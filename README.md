# **Курсовой проект "Сервис перевода денег"**
## Приложение предоставляет простой интерфейс перевода денег с карты на карту.

## **Задача проекта**
* Разработать backend приложение - REST-сервис.
* Сервис должен предоставить интерфейс для перевода денег с одной карты на другую по заранее описанной спецификации.
* Заранее подготовленное веб-приложение (FRONT) должно подключаться к разработанному сервису без доработок и использовать его функционал для перевода денег.

## **Требования к приложению**
1. Сервис должен предоставлять REST интерфейс для интеграции с FRONT
   Сервис должны реализовывать все методы перевода с одной банковской карты на другую описанные в протоколе https://github.com/netology-code/jd-homeworks/blob/master/diploma/MoneyTransferServiceSpecification.yaml
2. Все изменения должны записываться в файл (лог переводов в произвольном формате с указанием даты, времени, карта с которой было списание, карта зачисления, сумма, комиссия, результат операции если был)

## **Реализация:**
* Приложение (REST-сервис) разработано с использованием **Spring Boot**
* Сборщик пакетов - **maven**
* Для запуска используется **docker, docker-compose**
* **Unit** тесты с использованием **mockito**
* Интеграционные тесты с использованием **testcontainers**
* Логирование  - **log4j** (Логируются операции - уровень INFO и ошибки -уровень ERROR)
  Запись логов в файле **moneyTransfer.log**

[Интеграционный тест](MyServiceTransferMoneyApplicationTests.java)
изначально закомментирован, поскольку с ним не получится собрать docker-контейнер,
предварительно собрать образ transferservice командой "docker build -t transferservice:latest ."
После сборки docker-контейнера требуется раскомментировать и запустить данный тест.
Так же протестировать можно через IDEA или Postman:

Пример запроса перевода:
```
POST http://localhost:5500/transfer
Content-Type: application/json
{
"cardFromNumber": "1111111111111111",
"cardToNumber": "2222222222222222",
"cardFromCVV": "123",
"cardFromValidTill": "01/25",
"amount": {
"currency": "RUR",
"value": 10000
}
}
```
Пример запроса подтверждения операции:
```
POST http://localhost:5500/confirmOperation
Content-Type: application/json
{
"code": "0000",
"operationId": "1"
}
```


## **Запуск приложения:**
### 1. Для запуска REST-сервиса необходимо выполнить сборку проекта в терминале:

```
./mvnw clean package
```

И далее запустить проект командой:
```
docker-compose up
```


### 2. Для работы FRONT нужно :
-  Склонировать репозиторий по адресу https://github.com/serp-ya/card-transfer,
- Открыть корневую директорию проекта и выполнить команду npm i.
- Для запуска приложения необходимо в терминале выполнить команду
```
npm run start 
```
в корневой папке front проекта.

- Проект запустится по ссылке http://localhost:3000/

Теперь можно отправлять запросы с фронта:
- либо со своего локально развернутого  фронта
- либо с развернутого фронта https://serp-ya.github.io/card-transfer/







